---
layout: single
title: "ê³¼ì¼ ìˆ˜í™• ë¡œë´‡ (Berry-Good Bot) - 2025 ê³µê³¼ëŒ€í•™ ì°½ì˜ì„¤ê³„ì¶•ì „"
tags: [Projects, Robotics, ROS2, Jetson, Visual-Servoing, YOLO, Agriculture]
excerpt: "ì €ë¹„ìš©(ì•½ 115ë§Œì›) ROS2 ê¸°ë°˜ ëª¨ë“ˆí˜• ê³¼ì¼ ìˆ˜í™• ë¡œë´‡: YOLO-Pose ì¸ì‹ + Hybrid Visual Servo + Behavior Treeë¡œ ìˆ˜í™• ìžë™í™”"
author_profile: true
toc: true
toc_label: "Table of Contents"
toc_icon: "list-alt"
header:
  overlay_image: /assets/images/portfolio-header.jpg
  overlay_filter: rgba(0, 0, 0, 0.55)
  caption: "Berry-Good Bot | Fruit Harvesting Robot"
  actions:
    - label: "GitHub (ROS2 System)"
      url: "https://github.com/sawo0150/berry-good-bot"
classes: "text-white"
---

# íŒ€ í”„ë¡œì íŠ¸ - ê³¼ì¼ ìˆ˜í™• ë¡œë´‡ (Berry-Good Bot) ðŸ“ðŸ¤–

---

## í•œ ì¤„ ì†Œê°œ
**êµ­ë‚´ ì†Œê·œëª¨ ë¹„ë‹í•˜ìš°ìŠ¤ í™˜ê²½ì„ ëª©í‘œë¡œ, ì•½ 115ë§Œì› ìˆ˜ì¤€ì˜ ì €ë¹„ìš© í•˜ë“œì›¨ì–´ + ROS2 ëª¨ë“ˆí˜• ì•„í‚¤í…ì²˜ + YOLO-Pose ì¸ì‹ + Hybrid Visual Servoing(IBVS+PBVS) + Behavior Treeë¡œ â€˜ë°˜ë³µ ê°€ëŠ¥í•œ ìˆ˜í™• ë£¨í”„â€™ë¥¼ êµ¬í˜„í•œ ê³¼ì¼ ìˆ˜í™• ë¡œë´‡**ìž…ë‹ˆë‹¤.  

  ![ê³¼ì¼ìˆ˜í™•ë¡œë´‡-ëŒ€í‘œì´ë¯¸ì§€](../images/2025-10-02-berry-good-bot/ê³¼ì¼ìˆ˜í™•ë¡œë´‡-ëŒ€í‘œì´ë¯¸ì§€.png)

> {% include video id="eAwnoZv1Vwg" provider="youtube" %}

---

## ì†Œê°œ (ë°°ê²½ / ë¬¸ì œ ì •ì˜)
ë†ì—… í˜„ìž¥ì€ êµ¬ì¡°ì  ì¸ë ¥ ë¶€ì¡±ì´ ì‹¬ê°í•˜ì§€ë§Œ, ê¸°ì¡´ ìˆ˜í™• ë¡œë´‡ì€ **ëŒ€ê·œëª¨ ë†ìž¥ ì¤‘ì‹¬ + ê³ ê°€ ìž¥ë¹„(ìˆ˜ì²œë§Œ ì›ëŒ€ ì´ìƒ)** ìœ„ì£¼ë¼ êµ­ë‚´ ì†Œê·œëª¨ ë¹„ë‹í•˜ìš°ìŠ¤ì— ì ìš©ì´ ì–´ë µê³  ë„ìž… ë¶€ë‹´ì´ í½ë‹ˆë‹¤.  
ë³¸ í”„ë¡œì íŠ¸ëŠ” **â€œìž‘ê³  ì €ë ´í•˜ì§€ë§Œ ì‹¤ì œë¡œ ë™ìž‘í•˜ëŠ” ìˆ˜í™• ìžë™í™”â€**ë¥¼ ëª©í‘œë¡œ, ì•„ëž˜ë¥¼ í•µì‹¬ ë°©í–¥ìœ¼ë¡œ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤.

- **ì €ë¹„ìš©(ì•½ 100ë§Œ ì›ëŒ€) + ì§ì ‘ ì œìž‘ ê°€ëŠ¥í•œ êµ¬ì¡°**
- **ROS2 ê¸°ë°˜ ëª¨ë“ˆí˜• ì•„í‚¤í…ì²˜(í™•ìž¥/ìœ ì§€ë³´ìˆ˜ ìš©ì´)**
- **ì¸ì‹(Perception) â†” ì œì–´(Control) â†” ë¡œì§(Behavior) ë¶„ë¦¬**
- **ê·¼ì ‘ êµ¬ê°„ì—ì„œë„ ì•ˆì •ì ì¸ ìˆ˜í™•ì„ ìœ„í•œ Hybrid Visual Servoing**

---

## ê¸°ê°„ / ì¸ì› / ì—­í• 
- **ê¸°ê°„**: 2025.06.25 ~ 2025.08.22
- **íŒ€**: 3ì¸ (íŒ€ëª…: **ë”¸ê¸°ê°€ ì¢‹ì•„ / Berry-Good Bot**)
- **ë‚´ ì—­í•  (ë°•ìƒì›)**: **ì‹œìŠ¤í…œ í†µí•© ë° ì œì–´ ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ(ROS2, Kinematics, Visual Servoing, Behavior Tree, Serial bridge)**  
  - HW ì œìž‘/ì¡°ë¦½(íŒ€ì›), YOLO-Pose ëª¨ë¸ ê°œë°œ(íŒ€ì›)ê³¼ ì—°ë™í•˜ì—¬ â€œìˆ˜í™• ë£¨í”„â€ê°€ ì‹¤ì œë¡œ ëŒì•„ê°€ë„ë¡ í†µí•©

---

## Tech Stack
### Language / Framework
- **C++ / Python í˜¼í•©**
- **ROS2** (ëª¨ë“ˆí˜• ë…¸ë“œ êµ¬ì„±)
- **Behavior Tree** (ìˆ˜í™• ì‹œí€€ìŠ¤ ë° ì˜ˆì™¸ ì²˜ë¦¬)

### Compute / OS
- **Jetson Orin Nano 8GB (JetPack 6.2)**
- **Ubuntu 22.04**

### Perception
- **YOLO-Pose (Ultralytics YOLO11 ê³„ì—´)**  
- ê³¼ì¼(ë”¸ê¸°/ì‚¬ê³¼/ì˜¤ë Œì§€) ë°ì´í„° ì•½ **2,500ìž¥ ê·œëª¨**ë¡œ í•™ìŠµ  
- íŠ¹ì§•ì (í‚¤í¬ì¸íŠ¸) 3ì¢…: **Bottom / Top / Pick(ì¤„ê¸°ì )**

### Control
- **Kinematics / Jacobian ê¸°ë°˜ Servo**
- **Hybrid Visual Servoing (IBVS + PBVS)**

---

## Hardware êµ¬ì„±
### ë¡œë´‡ êµ¬ì¡° ìš”ì•½
- **5-DOF ë¡œë´‡ íŒ” + ì—”ë“œì´íŽ™í„° + 4ë¥œ ì•Œë£¨ë¯¸ëŠ„ í”„ë¡œíŒŒì¼ ì°¨ì²´**
- ìˆ˜ì§ì¶•(Linear): **NEMA23 + ë³¼ìŠ¤í¬ë¥˜**, ìˆ˜ì§ ìŠ¤íŠ¸ë¡œí¬ ì•½ **56cm**
- í‰ë©´ ê´€ì ˆ(3-DOF): **NEMA17 ìŠ¤í…ëª¨í„° + ë²¨íŠ¸/í’€ë¦¬ ê°ì†**
  - ê°ì†ë¹„: 1/2/3ë²ˆ ì¡°ì¸íŠ¸ ê°ê° **4:1 / 5:1 / 5:1**
  - ê°€ë™ë²”ìœ„ ì˜ˆ: 145Â° / 280Â° / 180Â°
- **ì¤‘ë ¥ ë³´ìƒ(ì•½ 2kg ì¶”)**ë¡œ 1ë²ˆ ì¡°ì¸íŠ¸ ë²¤ë”© í•˜ì¤‘ ì™„í™”
- ì—”ë“œì´íŽ™í„°:
  - **MG996R ì„œë³´ëª¨í„°** ê¸°ë°˜
  - **íŒŒì§€ + ì¤„ê¸° ì ˆë‹¨ì„ ë™ì‹œì— ìˆ˜í–‰**í•˜ë„ë¡ ì¹¼ë‚ /ìŠ¤íŽ€ì§€ ì¡°í•© êµ¬ì¡°

### ì¹´ë©”ë¼ êµ¬ì„± (EEF ìž¥ì°©)
- ìƒë‹¨: **RGB-D (Intel RealSense D435i)**
- í•˜ë‹¨: **ì €ê°€í˜• RGB ì¹´ë©”ë¼(ê·¼ì ‘ ì‹œì•¼ í™•ë³´ìš©)**

---

## í”„ë¡œì íŠ¸ ê²°ê³¼(í•µì‹¬ ì„±ê³¼)
- **ì €ë¹„ìš©(ì´ ì•½ 1,150,000ì›) êµ¬ì¡°**ë¡œ ì‹¤ì œ ë™ìž‘ ê°€ëŠ¥í•œ ìˆ˜í™• ë¡œë´‡ êµ¬í˜„
- **YOLO-Poseë¡œ ê³¼ì¼ ì¢…ë¥˜ ë¶„ë¥˜ + í‚¤í¬ì¸íŠ¸(ì¤„ê¸°) ì¶”ì •**
- **ê·¼ì ‘ ì˜ì—­ì—ì„œ RGB-D í•œê³„ë¥¼ ìš°íšŒ**í•˜ê¸° ìœ„í•´,
  - 2ì¹´ë©”ë¼ ê¸°í•˜(ë ˆì´-ë ˆì´) ê¸°ë°˜ìœ¼ë¡œ **ì¤„ê¸°ì  3D ì¶”ì •**ì„ êµ¬ì„±
- **Ready â†’ Rough Approach â†’ Fine Approach â†’ Pick & Place**  
  ìˆ˜í™• ë£¨í”„ë¥¼ **Behavior Treeë¡œ ë°˜ë³µ ê°€ëŠ¥í•˜ê²Œ êµ¬í˜„**
- ê³¼ì¼ ì¢…ë¥˜ì— ë”°ë¼ **ë°”êµ¬ë‹ˆ ë¶„ë¥˜(Pick & Place)**ê¹Œì§€ ìˆ˜í–‰

---

## ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ (ëª¨ë“ˆí™” í¬ì¸íŠ¸)
ë³¸ í”„ë¡œì íŠ¸ëŠ” í™•ìž¥ì„±ê³¼ ë””ë²„ê¹… íš¨ìœ¨ì„ ìœ„í•´ ì‹œìŠ¤í…œì„ 4ë‹¨ìœ¼ë¡œ ëª¨ë“ˆí™”í–ˆìŠµë‹ˆë‹¤.

1. **Serial (Jetson â†” Arduino)**
2. **Kinematics (NamedPose / IK / Jacobian Servo Interface)**
3. **Perception (YOLO / Calibration / 3D Estimation)**
4. **Behavior Tree (ìˆ˜í™• ë£¨í”„ ë° Fail-safe)**

> â€œìƒìœ„ ë…¸ë“œê°€ í•˜ìœ„ ë…¸ë“œë¥¼ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬â€í•˜ë„ë¡ êµ¬ì¡°í™”í•˜ì—¬, ê¸°ëŠ¥ êµì²´/ì¶”ê°€ê°€ ì‰¬ìš´ í˜•íƒœë¡œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.

---

## 1) Serial Bridge: Jetson â†” Arduino í†µì‹  & í•˜ë“œì›¨ì–´ êµ¬ë™
ë¡œë´‡ í•˜ë“œì›¨ì–´ëŠ” **Arduino UNO + MEGA**ë¡œ êµ¬ë™í–ˆìŠµë‹ˆë‹¤.

- UNO: Linear joint(ìŠ¤í…) + wrist joint(ì„œë³´) + gripper(ì„œë³´)
- MEGA: í‰ë©´ 3ê°œ ê´€ì ˆ(J1,J2,J3 ìŠ¤í…)
- ìŠ¤í…ëª¨í„°ëŠ” ì ˆëŒ€ ì—”ì½”ë”ê°€ ì•„ë‹ˆë¼ â€œ**ìŠ¤í… ëˆ„ì (ìƒëŒ€ ìœ„ì¹˜)**â€ ê¸°ë°˜ì´ë¼,
  - ë§¤ êµ¬ë™ë§ˆë‹¤ **Homing(ë¦¬ë¯¸íŠ¸ ìŠ¤ìœ„ì¹˜)**ë¡œ ê¸°ì¤€ì ì„ ìž¡ë„ë¡ ì„¤ê³„
- í° ë§í¬/ë¬´ê²Œë¡œ ì¸í•´ ê¸‰ê°€ì† ì‹œ í”ë“¤ë¦¼ì´ ì»¤ì„œ,
  - **ìµœëŒ€ ê°ê°€ì†ë„/ê°ì†ë„ ì œí•œ(ê°€ê°ì† í”„ë¡œíŒŒì¼)**ì„ ì½”ë“œì— ë‚´ìž¥í•´ ì§„ë™ ì €ê°
- Jetsonì—ì„œ pyserialë¡œ ëª©í‘œ ì¡°ì¸íŠ¸ë¥¼ ì „ì†¡í•˜ê³ , Arduinoì—ì„œ í˜„ìž¬ ì¡°ì¸íŠ¸ ìƒíƒœë¥¼ í”¼ë“œë°±

> ê°œë°œ ì´ìŠˆ: ì¼ë¶€ MEGA í˜¸í™˜ ë³´ë“œ ë“œë¼ì´ë²„ ë¬¸ì œë¡œ, Jetson ì»¤ë„ ë“œë¼ì´ë²„ë¥¼ ë¹Œë“œí•´ ì ìš©í•œ ê²½í—˜ë„ ìžˆì—ˆìŠµë‹ˆë‹¤(í˜„ìž¥ í†µí•© ë‚œì´ë„ ë†’ì•˜ë˜ í¬ì¸íŠ¸).

- ì½”ë“œ: [Link](https://github.com/sawo0150/berry-good-bot/tree/main/berry_serial_bridge)

---

## 2) URDF + RViz2: â€œë¡œë´‡ ìƒíƒœâ€ì™€ â€œì™¸ë¶€ í™˜ê²½â€ì„ í•œ í™”ë©´ì—ì„œ ë””ë²„ê¹…
ì„¼ì„œ/ì¸ì‹ ê²°ê³¼ì™€ ì‹¤ì œ ë¡œë´‡ ê´€ì ˆ ìƒíƒœë¥¼ ìˆ«ìžë§Œ ë³´ê³  ë””ë²„ê¹…í•˜ëŠ” ê²ƒì€ ê±°ì˜ ë¶ˆê°€ëŠ¥í–ˆìŠµë‹ˆë‹¤.  
ê·¸ëž˜ì„œ CAD ê¸°ë°˜ìœ¼ë¡œ URDFë¥¼ êµ¬ì„±í•˜ê³  RViz2ì—ì„œ ì•„ëž˜ë¥¼ ë™ì‹œì— í™•ì¸í•˜ë„ë¡ í–ˆìŠµë‹ˆë‹¤.

- ëª©í‘œ joint topic ê¸°ë°˜ìœ¼ë¡œ **URDF ë¡œë´‡ ëª¨ë¸ ë™ê¸°í™” ì‹œê°í™”**
- TF íŠ¸ë¦¬ ê¸°ì¤€ìœ¼ë¡œ ì™¸ë¶€ í™˜ê²½(ê³¼ì¼ ìœ„ì¹˜ ë“±)ê³¼ ë¡œë´‡ì„ í•¨ê»˜ í‘œì‹œ

ë˜í•œ Arduino ê´€ì ˆ ê°ë„ ì»¨ë²¤ì…˜ê³¼ URDF ì»¨ë²¤ì…˜ì´ ë‹¬ë¼,
- yaml íŒŒë¼ë¯¸í„°ë¥¼ ì¡°ì •í•˜ë©° **ì„ í˜• ë§¤í•‘(m, n) í˜•íƒœë¡œ ì»¨ë²¤ì…˜ ë³´ì •**ì„ ìˆ˜í–‰í–ˆìŠµë‹ˆë‹¤.
- ì½”ë“œ: [Link](https://github.com/sawo0150/berry-good-bot/tree/main/robot/berrybot_description)
- ![image-20251224182233504](../images/2025-10-02-berry-good-bot/image-20251224182233504.png)

---

## 3) Kinematics Control: 3ê°€ì§€ â€œì œì–´ ì¸í„°íŽ˜ì´ìŠ¤â€ë¥¼ Action Serverë¡œ ì œê³µ
MoveIt2ë¥¼ ê³ ë ¤í–ˆì§€ë§Œ(ë¹Œë“œ/ë¦¬ì†ŒìŠ¤ ë¶€ë‹´ + ìžìœ ë„/í™˜ê²½ ì œì•½), ë³¸ í”„ë¡œì íŠ¸ì—ì„œëŠ” **ê°€ë²¼ìš´ ì¸í„°íŽ˜ì´ìŠ¤ë¥¼ ì§ì ‘ êµ¬ì„±**í–ˆìŠµë‹ˆë‹¤.

### (1) NamedPose
- ë¯¸ë¦¬ ì •ì˜í•œ ìžì„¸(ready/basket/home ë“±)ë¥¼ yamlì— ì €ìž¥
- Actionìœ¼ë¡œ ì´ë¦„ì„ ë³´ë‚´ë©´, í˜„ìž¬ ìƒíƒœì—ì„œ ëª©í‘œ ìžì„¸ê¹Œì§€ ì™„ë§Œížˆ ì´ë™

### (2) IK ê¸°ë°˜ ëª©í‘œ í¬ì¦ˆ ì´ë™ (IKPy)
- URDF ê¸°ë°˜ìœ¼ë¡œ IK ì—°ì‚°ì„ êµ¬ì„±
- ìœ„ì¹˜(x,y,z)ëŠ” ìž˜ ë§žì§€ë§Œ, ìžì„¸(orientation)ëŠ” í•´ê°€ ë¶ˆì•ˆì •í•œ ê²½ìš°ê°€ ìžˆì–´
  - ìµœì¢… ìˆ˜í™• ì¸í„°íŽ˜ì´ìŠ¤ë¡œëŠ” ì œí•œì ìœ¼ë¡œ ì‚¬ìš©

### (3) ServoTwist (Jacobian Servoing) âœ… í•µì‹¬
- EEFì˜ twist(ì†ë„)ë¥¼ ìž…ë ¥ìœ¼ë¡œ ë°›ì•„,
  - Jacobian ê¸°ë°˜ìœ¼ë¡œ joint velocityë¥¼ ê³„ì‚° â†’ joint stateì— ë°˜ì˜
- ë¯¸ì„¸ ì„œë³´ìž‰ì´ ê°€ëŠ¥í•´ì ¸ â€œê·¼ì ‘ ìˆ˜í™• ë‹¨ê³„â€ì—ì„œ ê°€ìž¥ ìœ íš¨í–ˆìŠµë‹ˆë‹¤.
- êµ¬í˜„ì— roboticstoolbox ë“±ì„ ì‚¬ìš©í•´ URDF ê¸°ë°˜ Jacobianì„ êµ¬ì„±

- ì½”ë“œ: [Link](https://github.com/sawo0150/berry-good-bot/tree/main/berry_kinematics_control/berry_kinematics_control)

---

## 4) Perception: YOLO-Pose + Calibration + (ê·¼ì ‘ êµ¬ê°„) 3D ì¤„ê¸°ì  ì¶”ì •
### YOLO-Pose ì„¤ê³„
YOLOëŠ” ì•„ëž˜ë¥¼ ë™ì‹œì— ì¶”ì •í•˜ë„ë¡ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤.
- Bounding Box (2D ìœ„ì¹˜)
- Classification (ë”¸ê¸°/ì‚¬ê³¼/ì˜¤ë Œì§€)
- Keypoints 3ê°œ (Bottom / Top / Pick=ì¤„ê¸°ì )

í•™ìŠµì€ RTX 4070 Ti SUPER í™˜ê²½ì—ì„œ ìˆ˜í–‰í–ˆê³ , ì˜ˆì¸¡ ê²°ê³¼ê°€ ë¼ë²¨ê³¼ ë§¤ìš° ìœ ì‚¬í•œ ìˆ˜ì¤€ê¹Œì§€ ë§žë„ë¡ íŠœë‹í–ˆìŠµë‹ˆë‹¤.

- ë°ì´í„°ì…‹: [Link](https://universe.roboflow.com/berrybot-xzypx/fruit-pose-fdtan)  
- ëª¨ë¸/í•™ìŠµ íŒŒë¼ë¯¸í„°: [Link](https://github.com/eric-mjk/berrybot-perception)

### Rough Approachìš© 3D ìœ„ì¹˜ ì¶”ì • (RGB-D ê¸°ë°˜)
- RGB-D ì¹´ë©”ë¼ì—ì„œ confidence ìµœê³  bbox ì„ íƒ
- bbox ë‚´ë¶€ depthì— ëŒ€í•´ outlier ì œê±° í›„ **ìƒìœ„ 25% ê¹Šì´ í‰ê· ** ë“±ìœ¼ë¡œ ê°•ê±´í™”
- base_link ê¸°ì¤€ ì ‘ê·¼ì (ê³¼ì¼ì ì—ì„œ ì¼ì • ê±°ë¦¬ offset)ê³¼ EEF í¬ì¦ˆë¥¼ ë°˜í™˜
- ![image-20251224182311898](../images/2025-10-02-berry-good-bot/image-20251224182311898.png)

### Fine Approachìš© 3D ì¤„ê¸°ì  ì¶”ì • (RGB-D í•œê³„ ìš°íšŒ)
ê·¼ì ‘(ì•½ 20cm ì´ë‚´)ì—ì„œëŠ” RGB-Dê°€ ê°’ì´ ë¶ˆì•ˆì •/ëˆ„ë½ë˜ëŠ” ë¬¸ì œê°€ ìžˆì–´, ë‹¤ë¥¸ ì „ëžµì´ í•„ìš”í–ˆìŠµë‹ˆë‹¤.

- í•˜ë‹¨ RGB ì¹´ë©”ë¼ëŠ” ì¤„ê¸°ì ì´ ìž˜ ì•ˆ ë³´ì´ê±°ë‚˜ confê°€ ë–¨ì–´ì§€ëŠ” ë¬¸ì œê°€ ìžˆì–´,
  - **Gripper ROI ì œí•œ**
  - **HSV ê¸°ë°˜ ë”¸ê¸° ìƒ‰ segmentation + bbox ìž¬ì¶”ì •**
  - YOLO bboxì™€ì˜ IoUë¥¼ ê²°í•©í•œ scoreë¡œ ê²°ê³¼ í•„í„°ë§  
    (ì˜ˆ: score = conf + IoU í˜•íƒœ)
- ìµœì¢…ì ìœ¼ë¡œ,  
  - ìƒë‹¨ RGB-D ì¹´ë©”ë¼ì˜ ì¤„ê¸° keypoint rayì™€  
  - í•˜ë‹¨ RGB ì¹´ë©”ë¼ì˜ ì¤„ê¸° keypoint rayë¥¼ ë§¤ì¹­í•´  
  **ë‘ rayì˜ ìµœê·¼ì ‘ì (ê¸°í•˜ ê¸°ë°˜)ìœ¼ë¡œ ì¤„ê¸°ì  3Dë¥¼ ì¶”ì •**  
  â†’ â€œê°€ê¹Œì›Œë„ ì¤„ê¸°ì  3Dë¥¼ ë°˜í™˜â€í•˜ë„ë¡ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.
- ì½”ë“œ: [Link](https://github.com/sawo0150/berry-good-bot/tree/main/berry_perception)
- ![image-20251224182333120](../images/2025-10-02-berry-good-bot/image-20251224182333120.png)
- ![image-20251224182405059](../images/2025-10-02-berry-good-bot/image-20251224182405059.png)

---

## 5) Hybrid Visual Servoing: IBVS + PBVS ê²°í•©ìœ¼ë¡œ ê·¼ì ‘ ìˆ˜í™• ì•ˆì •í™”
ë³¸ í”„ë¡œì íŠ¸ì˜ ì œì–´ëŠ” í¬ê²Œ ë‘ ë‹¨ê³„ìž…ë‹ˆë‹¤.

### Rough Approach (ê±°ì¹œ ì ‘ê·¼, PBVS ì¤‘ì‹¬)
- Perceptionì—ì„œ ë°›ì€ â€œì ‘ê·¼ì â€ìœ¼ë¡œ ë¨¼ì € ì´ë™
- 1íšŒë¡œ ëë‚´ì§€ ì•Šê³ ,
  - ì˜ˆ: **5cm ì ‘ê·¼ â†’ ìž¬ì¸ì‹ â†’ 1cm ì ‘ê·¼**ì²˜ëŸ¼ ë‹¨ê³„ì  ì ‘ê·¼ìœ¼ë¡œ ì•ˆì •ì„± í™•ë³´

### Fine Approach (ì •ë°€ ì ‘ê·¼, Hybrid)
- **IBVS**: ì´ë¯¸ì§€ í‰ë©´ ìƒ íŠ¹ì§•(ì˜ˆ: ROI ì¤‘ì‹¬ xì™€ ë”¸ê¸° bbox ì¤‘ì‹¬ xì˜ ì°¨ì´)ì„ ì˜¤ì°¨ë¡œ ë‘ê³  ì†ë„ë¥¼ ìƒì„±  
  - ê°€ê¹Œì›Œì§ˆìˆ˜ë¡ í¬ì¦ˆ ì¶”ì • ì—†ì´ë„ ê°•ê±´í•˜ê²Œ ì •ë ¬í•˜ê¸° ìœ ë¦¬
- **PBVS**: ì¶”ì •ëœ 3D ì¤„ê¸°ì ê³¼ ê·¸ë¦¬í¼ ê¸°ì¤€ì ì˜ ì°¨ì´ë¡œ 3D ì†ë„ ìƒì„±  
  - ëª©í‘œì (ì¤„ê¸°)ìœ¼ë¡œì˜ ìˆ˜ë ´ì— ì§ê´€ì 

ìµœì¢…ì ìœ¼ë¡œ ë‘ ì†ë„ë¥¼ í•©ì„±í•´ ServoTwistë¡œ êµ¬ë™í–ˆìŠµë‹ˆë‹¤.
- `V = V_IBVS + V_PBVS`

  â€‹    ![ê·¸ë¦¼ìž…ë‹ˆë‹¤.  ì›ë³¸ ê·¸ë¦¼ì˜ ì´ë¦„: CLP0000590c441b.bmp  ì›ë³¸ ê·¸ë¦¼ì˜ í¬ê¸°: ê°€ë¡œ 2240pixel, ì„¸ë¡œ 734pixel](../images/2025-10-02-berry-good-bot/tmpA543.jpg)  ![ê·¸ë¦¼ìž…ë‹ˆë‹¤.  ì›ë³¸ ê·¸ë¦¼ì˜ ì´ë¦„: CLP000064100004.bmp  ì›ë³¸ ê·¸ë¦¼ì˜ í¬ê¸°: ê°€ë¡œ 2234pixel, ì„¸ë¡œ 578pixel](../images/2025-10-02-berry-good-bot/tmp2261.jpg)  

---

## 6) Behavior Tree: ìˆ˜í™• ë£¨í”„ & ì˜ˆì™¸ ì²˜ë¦¬ ë¡œì§
ì¸ì‹/ì œì–´ê°€ ë™ìž‘í•´ë„, â€œì–¸ì œ ë¬´ì—‡ì„ ì‹¤í–‰í•˜ê³  ì‹¤íŒ¨ ì‹œ ì–´ë–»ê²Œ ë³µêµ¬í• ì§€â€ê°€ ì—†ìœ¼ë©´ ì‹¤ì œ ìˆ˜í™•ì€ ì•ˆì •ì ìœ¼ë¡œ ëŒì•„ê°€ì§€ ì•ŠìŠµë‹ˆë‹¤.  
ê·¸ëž˜ì„œ ì „ì²´ ìˆ˜í™• ê³¼ì •ì„ **Behavior Tree(BT)**ë¡œ êµ¬ì„±í•´ ë°˜ë³µ ê°€ëŠ¥í•˜ê²Œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.

- ì „ì²´ ë£¨í”„(ëŒ€í‘œ êµ¬ì¡°):
  - **Ready â†’ Rough Approach â†’ Fine Approach â†’ Pick & Place** (ë°˜ë³µ)
- ê° ë‹¨ê³„ëŠ” ëª¨ë‘ Action Server í˜•íƒœë¼,
  - BT ë…¸ë“œì—ì„œ ëž˜í•‘í•´ í˜¸ì¶œí•˜ëŠ” êµ¬ì¡°ë¡œ ëª¨ë“ˆì„±ì´ ì¢‹ì•˜ìŠµë‹ˆë‹¤.
- ì‹¤í–‰ì€ hydra ê¸°ë°˜ ì„¤ì •ìœ¼ë¡œ íŒŒë¼ë¯¸í„°/BT xml/node êµ¬ì„±ì„ ì‰½ê²Œ ë°”ê¾¸ë„ë¡ í–ˆìŠµë‹ˆë‹¤.
- BT ì˜ˆì‹œ(XML): [Link](https://github.com/sawo0150/berry-good-bot/blob/main/behavior_trees/pick_with_loops.xml)
- ![image-20251224182436487](../images/2025-10-02-berry-good-bot/image-20251224182436487.png)

---

## ë¹„ìš© ë¶„ì„ / íŒ€ ì—­í•  ë¶„ë‹´
### ë¹„ìš©
- ê¸°ê³„ë¶€í’ˆ(ëª¨í„°, í•„ë¼ë©˜íŠ¸, ë² ì–´ë§): 50ë§Œì›
- ì „ìžì œí’ˆ(ì ¯ìŠ¨, RGB, RGB-D ì¹´ë©”ë¼): 60ë§Œì›
- ê¸°íƒ€(ê³¼ì¼ ëª¨í˜•, í•„ë¼ë©˜íŠ¸): 5ë§Œì›  
â†’ **í•©ê³„: 115ë§Œì› **

### íŒ€ ì—­í• 
- ê¶Œíƒœì˜: ë¡œë´‡ í•˜ë“œì›¨ì–´ ì„¤ê³„ ë° ì œìž‘
- ê¹€ë¯¼ì¤€: YOLO-Pose ë”¥ëŸ¬ë‹ ëª¨ë¸ ê°œë°œ
- ë°•ìƒì›(ë‚˜): ì‹œìŠ¤í…œ í†µí•© ë° ì œì–´ ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ

---

## Links
- **ROS2 í†µí•©/ì œì–´ ì½”ë“œ(GitHub)**: [https://github.com/sawo0150/berry-good-bot](https://github.com/sawo0150/berry-good-bot)
- **YOLO ë°ì´í„°ì…‹(Roboflow)**: [https://universe.roboflow.com/berrybot-xzypx/fruit-pose-fdtan](https://universe.roboflow.com/berrybot-xzypx/fruit-pose-fdtan)
- **YOLO ëª¨ë¸/í•™ìŠµ íŒŒë¼ë¯¸í„°**: [https://github.com/eric-mjk/berrybot-perception](https://github.com/eric-mjk/berrybot-perception)

---

## Images & Videos

> ![image-20251224184051347](../images/2025-10-02-berry-good-bot/image-20251224184051347.png)

> ![image-20251224184307131](../images/2025-10-02-berry-good-bot/image-20251224184307131.png)


> {% include video id="eAwnoZv1Vwg" provider="youtube" %}

> {% include video id="T6ebTg6ipFc" provider="youtube" %}

> {% include video id="DdS0xmefjrk" provider="youtube" %}

---
